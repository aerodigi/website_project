<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="stylesheet.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <script>
        $(document).ready(function () {

            $('#numValidate').keypress(function (e) {
                if ((e.keyCode < 65 || e.keyCode > 90)
            && (e.keyCode < 96 || e.keyCode > 122) 
            && e.keyCode != 32 && e.keyCode != 45)
                {
                    return false;
                }
            });
        });
    </script>

</head>
<body>

    <script>

        function display() {
            var obj = document.getElementById("myDropdown");
            document.write(obj.options[obj.selectedIndex].text);
         }

        function validate() {
            // empty();
            add();
            // userDetails();
            // yourRating();
        }

        function userDetails() {
            var fn = document.getElementById("fname").value;
            var ln = document.getElementById("lname").value;
            var em = document.getElementById("e-mail").value;
            var co = document.getElementById("comments").value;
            var obj = document.getElementById("myDropdown");
            document.getElementById('FeedbackInput').innerHTML = "First Name: " + fn + '<br>' + "Last Name: " + ln + '<br>' + "Playlist: " + obj.options[obj.selectedIndex].text + '<br>' + "E-mail Address: " + em  + '<br>' + "Comments: " + co;
            yourRating();
        }

        function jsonDetails() {
            var fn = document.getElementById("fname").value;
            var ln = document.getElementById("lname").value;
            var em = document.getElementById("e-mail").value;
            var co = document.getElementById("comments").value;
            var deets = { firstName: fn, lastName: ln, eMail: em, comments: co } 
            var jdeet = document.write(JSON.stringify(deets));
        }

        function yourRating() {
            var ele = document.getElementsByName("radio_button");
                for(i = 0; i < ele.length; i++) {
                    if(ele[i].checked)
                    document.getElementById("StarRating").innerHTML = "Star Rating: "+ ele[i].value;
                }
        }

        
        function empty() {
        var x;
        x = document.geteElementyById("fname").value;
        y = document.getElementById("lname").value;
        z = document.getElementById("e-mail").value;
        if (x == "" || y == "" || z == "")
        { alert("Please enter details.");
        }
        else {
            return
        }
        }

        function add() {
        answer = confirm('Are you sure?')
        if (answer==true) {
            userDetails();
        }
        else if(answer==false) {
            wrong_answer = confirm('Are you sure you want to quit?')
            return
        }
        }

        function myFunction() {
        document.getElementById("myDropdown").classList.toggle("show");
            }

        window.onclick = function(event) {
            if (!event.target.matches('.dropbtn')) {
            var dropdowns = document.getElementsByClassName("dropdown-content");
            var i;
            for (i = 0; i < dropdowns.length; i++) {
                var openDropdown = dropdowns[i];
                if (openDropdown.classList.contains('show')) {
                    openDropdown.classList.remove('show');
                }
                }
            }
            } 

    </script>

    <div style="text-align: center">
    <a id="playlist-platform" href="index.html">Playlist Platform</a>
    </div>
    <br><br><br><br><br>
    <form id ="submit-feedback" action="/action_page.php">
        <div class="dropdown">
            <label>Playlist: </label>
            <select id="myDropdown">
                <option>Teenage Angst</option>
                <option>Your Summer Rewind</option>
                <option>Drum & Bass</option>
            </select>
            <input type="button" onclick="display()" value="Click"><br><br><br><br><br><br>
        </div>
        <div id="numValidate">
            <label for="fname">First name: </label>
            <input type="text" class="foo" id="fname" name="fname" maxlength="25" placeholder="Enter your first name." required><br><br>
            <label for="lname">Last name: </label>
            <input type="text" class="foo" id="lname" name="lname" maxlength="50" placeholder="Enter your last name." required><br><br>
        </div>
        <label for="e-mail">E-mail Address: </label>
        <input type="e-mail" class="foo" id="e-mail" placeholder="Enter your e-mail address." required><br><br>
        <label for="comments">Comments: </label>
        <textarea id="comments" name="comments" rows="10" cols="50" placeholder="Enter your comments here."></textarea><br><br><br><br><br><br><br><br><br<br><br>
        <label>Star Rating:</label>
        <input type="radio" class="bar" id="one" name="radio_button" value="One">
        <label for="ratingOne" class="bud">One </label><br><br>
        <input type="radio" class="bar" id="two" name="radio_button" value="Two">
        <label for="ratingTwo" class="baz">Two </label><br><br>
        <input type="radio" class="bar" id="three" name="radio_button" value="Three">
        <label for="ratingThree" class="baz">Three </label><br><br>
        <input type="radio" class="bar" id="four" name="radio_button" value="Four">
        <label for="ratingFour" class="baz">Four </label><br><br>
        <input type="radio" class="bar"id="five" name="radio_button" value="Five">
        <label for="ratingFive" class="baz">Five </label><br><br><br>
        <button id="submit" onclick="add()">Submit</button>
        <button id="jsubmit" onclick="jsonDetails()">Click for JSON</button>
    </form><br><br><br><br>
        <div id="FeedbackInput"></div>
        <div id="StarRating"></div>
</body>
</html>